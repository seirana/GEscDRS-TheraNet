params {
  input    = "${projectDir}/data/input.csv"
  outdir   = "${projectDir}/results"
  container = "docker://ghcr.io/seirana/theranet:0.1"  // Option A image
}

process {
  // Set sensible defaults; can override per-process with withName: blocks
  cpus = 1
  memory = '2 GB'
}

profiles {
  singularity {
    process.container = params.container
    singularity {
      enabled    = true
      autoMounts = true
      cacheDir   = "${System.getenv('NXF_SINGULARITY_CACHEDIR') ?: "$HOME/.singularity"}"
    }
  }
  docker {
    docker.enabled = true
    process.container = params.container.replace('docker://','')
    docker.runOptions = "-u \$(id -u):\$(id -g)"
  }
}
